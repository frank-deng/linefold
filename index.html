<!doctype html><html><head><meta charset="UTF-8"/><meta name="viewport" id="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/><title>Line Folding Test Page</title><style>body{color:#333;font-size:16px;padding:40px 10px 10px;user-select:none}ribbon{user-drag:none;background-color:#a00;box-shadow:0 0 5px 2px #888;position:fixed;right:0;top:0;user-select:none}ribbon,ribbon a{display:block;overflow:hidden}ribbon a{border-bottom:1px solid #fff;border-top:1px solid #fff;color:#fff;font-size:12px;font-weight:700;line-height:30px;margin:2px 0;text-align:center;text-decoration:none;width:260px}@media only screen and (min-width:600px){body{padding-top:10px}ribbon{transform:translate(83px) rotate(45deg);transform-origin:50px 50%}.inputForm{margin-right:120px}}.inputItem,.inputItemGroup{display:inline-block;vertical-align:top}.inputItem{line-height:28px;margin-bottom:6px;margin-right:16px}.inputItem span{margin-right:8px}.inputItem input[type=number],.inputItem input[type=text]{-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dcdfe6;border-radius:4px;box-sizing:border-box;color:#333;display:inline-block;font-size:16px;height:28px;line-height:28px;margin:0;max-width:180px;outline:none;padding:0 8px;vertical-align:top}.inputItem input[type=number]{padding:0 0 0 8px;width:60px}.checkboxItem{cursor:pointer}.checkboxItem input[type=checkbox]{border-radius:4px;box-sizing:border-box;cursor:pointer;display:inline-block;height:16px;margin:6px 8px 0 0;vertical-align:top;width:16px}.displayFormTitle,.textInputTitle{line-height:28px}.textInput{-webkit-appearance:none;background-color:#fff;background-image:none;border:1px solid #dcdfe6;border-radius:4px;box-sizing:border-box;color:#333;font-size:16px;line-height:21px;margin:0;outline:none;padding:4px 8px;resize:none;width:100%}.displayFormTitle{display:none;margin-top:8px}.displayForm{display:none;overflow-x:auto;width:100%}.testCanvas{background-color:#fff;background-image:none;border:1px solid #dcdfe6;border-radius:4px;box-sizing:border-box;display:block}</style><script src="./dist/linefold.js"></script></head><body><ribbon><a href="https://github.com/frank-deng/linefold/">Fork me on GitHub</a></ribbon><div class="inputForm" id="inputForm"><div class="inputItem"><span translate="width">Width</span><input type="number" min="1" name="width" value="320"/></div><div class="inputItem"><span translate="fontSize">Font Size</span><input type="number" min="1" name="fontSize" value="16"/></div><div class="inputItem"><span translate="font">Font</span><input name="fontFamily" value="sans"/></div><div class="inputItemGroup"><label class="inputItem checkboxItem"><input type="checkbox" name="fontBold"/><span translate="bold">Bold</span></label><label class="inputItem checkboxItem"><input type="checkbox" name="fontItalic"/><span translate="italic">Italic</span></label></div><div class="textInputTitle" translate="text">Text</div><textarea class="textInput" name="textInput" rows="10"></textarea></div><div class="displayFormTitle" translate="effect" id="displayFormTitle">Effect</div><div class="displayForm" id="displayForm"><canvas class="testCanvas" id="testCanvas"></canvas></div></body><script>!function(){var e={en:{title:"Line Folding Test Page",width:"Width",fontSize:"Font Size",font:"Font",bold:"Bold",italic:"Italic",text:"Text",effect:"Effect"},ja:{title:"テキストの改行のテストページ",width:"幅",fontSize:"サイズ",font:"フォント",bold:"太字",italic:"斜体",text:"テキスト",effect:"効果"},zh:{title:"文本换行算法测试页面",width:"宽度",fontSize:"字体大小",font:"字体",bold:"加粗",italic:"倾斜",text:"正文",effect:"效果"}},t=[];try{var n=window.navigator.languages||[window.navigator.language],l=/language=([A-Za-z0-9_]+)/.exec(window.location.search);l&&l[1]&&(n=[l]);for(var o=0;o<n.length;o++){var a=n[o];for(var i in e)-1!=a.indexOf(i)&&t.push(i)}}catch(e){console.error("Failed to get language info",e)}function r(n){try{var l,o,a;for(a=0;a<t.length;a++)if(l=t[a],(o=e[l])&&o[n])return o[n];if((o=e.en)[n])return o[n]}catch(e){console.error(e)}return n}document.title=r("title");var d=document.querySelectorAll("[translate]");for(o=0;o<d.length;o++){var c=d[o],u=r(c.getAttribute("translate"));u&&(c.innerHTML=u)}var f=document.getElementById("testCanvas"),m=f.getContext("2d"),g=document.querySelector("[name=textInput]"),v=document.querySelector("[name=width]"),y=document.querySelector("[name=fontSize]"),h=document.querySelector("[name=fontFamily]"),s=document.querySelector("[name=fontBold]"),S=document.querySelector("[name=fontItalic]"),p=document.getElementById("displayFormTitle"),w=document.getElementById("displayForm");function x(){var e=g.value;if(!e)return p.style.display="none",void(w.style.display="none");var t=Number(v.value),n=Number(y.value),l=h.value,o=Math.ceil(3*n/2),a=n+"px "+l;S.checked&&(a="Italic "+a),s.checked&&(a="Bold "+a);var i=linefold(e,t,a);f.width=t,f.height=o*i.length,m.font=a,m.fillStyle="#000000",m.textBaseline="middle";for(var r=Math.round(o/2),d=0;d<i.length;d++){var c=i[d];m.fillText(c,0,r),r+=o}p.style.display="block",w.style.display="block"}var b=document.getElementById("inputForm");b.addEventListener("input",x),b.addEventListener("change",x)}();</script></html>