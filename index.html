<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8"/>
        <title>Line Folding Test Page</title>
        <script type='text/javascript' src='./dist/linefold.js'></script>
    </head>
    <body>
        <div oninput='refreshCanvas()'>
            <div>宽度</div>
            <input type='number' min='1' name='width' value='320'/>
            <div>行高</div>
            <input type='number' min='1' name='lineHeight' value='24'/>
            <div>字体</div>
            <input name='font' value='16px normal 宋体'/>
            <div>正文</div>
            <textarea name='textInput'></textarea>
        </form>
        <canvas class='testCanvas' id='testCanvas'></canvas>
    </body>
    <script type='text/javascript'>
var canvas=document.getElementById('testCanvas');
var ctx=canvas.getContext('2d');
function refreshCanvas(){
    var width=Number(document.querySelector('[name=width]').value),
        lineHeight=Number(document.querySelector('[name=lineHeight]').value),
        font=document.querySelector('[name=font]').value,
        text=document.querySelector('[name=textInput]').value;
    var lines=linefold(text,width,font);
    console.log(lines);
    canvas.width=width;
    canvas.height=lineHeight*lines.length;
    ctx.font=font;
    ctx.fillStyle='#000000';
    ctx.textBaseline='top';
    var y=0;
    for(let line of lines){
        ctx.fillText(line,0,y);
        y+=lineHeight;
    }
    return false;
}
    </script>
    <style type='text/css'>
.testCanvas{
    display: block;
    border:1px solid #000000;
}
    </style>
</html>